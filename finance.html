<!DOCTYPE html>
<html lang="en">
	<head>
		<meta charset="utf-8">
		<meta name="viewport" content="width=device-width, initial-scale=1">
		<link rel="preconnect" href="https://fonts.googleapis.com">
		<link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
		<link rel="stylesheet" href="https://fonts.googleapis.com/css2?family=Roboto+Condensed:ital,wght@0,100..900;1,100..900&family=Roboto+Mono:ital,wght@0,100..700;1,100..700&family=Roboto:ital,wght@0,100..900;1,100..900&family=Rubik:ital,wght@0,300..900;1,300..900&display=swap">
		<link rel="stylesheet" href="./styles/main.css">
		<link rel="stylesheet" href="./styles/finance.css">
		<script type="text/javascript" src="./scripts/templates.js"></script>
		<script type="text/javascript" src="./styles/color-palettes.js" defer></script>

		<title>Financial Reports</title>
		<link rel="icon" type="image/x-icon" href="/assets/icons/logo/eb-logo-2025--mono.svg">
	</head>

	<body class="rubik-400">
		<nav class="nav-desktop">
			<ul>
				<li><a href="./home.html">/ home</a></li>
				<li><a href="./videos.html">/ videos</a></li>
				<li><a href="./music.html">/ music</a></li>
				<li><a href="./about.html">/ about</a></li>
			</ul>
		</nav>

		<main>
			<header class="content-column">
				<nav class="nav-mobile">
					<span><a href="./home.html">/ home</a></span>
					<span><a href="./videos.html">/ videos</a></span>
					<span><a href="./music.html">/ music</a></span>
					<span><a href="./about.html">/ about</a></span>
				</nav>

				<button id="theme">
					<svg id="theme1" xmlns="http://www.w3.org/2000/svg" viewBox="0 -960 960 960"><path d="M380-880q83 0 156 31.5T663-763q54 54 85.5 127T780-480q0 83-31.5 156T663-197q-54 54-127 85.5T380-80q-53 0-103.5-13.5T180-134q93-54 146.5-146T380-480q0-108-53.5-200T180-826q46-27 96.5-40.5T380-880Z"/></svg>
					<svg id="theme2" xmlns="http://www.w3.org/2000/svg" viewBox="0 -960 960 960"><path d="M480-280q-83 0-141.5-58.5T280-480q0-83 58.5-141.5T480-680q83 0 141.5 58.5T680-480q0 83-58.5 141.5T480-280ZM200-440H40v-80h160v80Zm720 0H760v-80h160v80ZM440-760v-160h80v160h-80Zm0 720v-160h80v160h-80ZM256-650l-101-97 57-59 96 100-52 56Zm492 496-97-101 53-55 101 97-57 59Zm-98-550 97-101 59 57-100 96-56-52ZM154-212l101-97 55 53-97 101-59-57Z"/></svg>
					<svg id="theme3" xmlns="http://www.w3.org/2000/svg" viewBox="0 -960 960 960"><path d="M480-80q-83 0-156-31.5T197-197q-54-54-85.5-127T80-480q0-83 31.5-156T197-763q54-54 127-85.5T480-880q83 0 156 31.5T763-763q54 54 85.5 127T880-480q0 83-31.5 156T763-197q-54 54-127 85.5T480-80Zm40-83q119-15 199.5-104.5T800-480q0-123-80.5-212.5T520-797v634Z"/></svg>
				</button>
			</header>

			<h1>FINANCIAL REPORTS</h1>
			<section>
				<p>These financial reports are disclosed to provide clarity into financial motives and give insight into the cost of operations. If the opportunity arises to pay other people to work on the show, this transparency should help maintain fair and honest pay.</p>
			</section>

			<section>
				<label for="report-id">Select a report:</label>
				<select name="report-id" id="report-id" onchange="generateReport()">
					<option value="default" selected>---</option>
					<optgroup label="2025">
						<option value="2025-Q1">2025 Q1 (JAN / FEB / MAR)</option>
					</optgroup>
					<optgroup label="2024">
						<option value="2024-Q4">2024 Q4 (OCT / NOV / DEC)</option>
						<option value="2024-Q3">2024 Q3 (JUL / AUG / SEP)</option>
						<option value="2024-Q2">2024 Q2 (APR / MAY / JUN)</option>
						<option value="2024-Q1" disabled>2024 Q1 (JAN / FEB / MAR)</option>
					</optgroup>
					<optgroup label="2023">
						<option value="2023-Q4" disabled>2023 Q4 (OCT / NOV / DEC)</option>
						<option value="2023-Q3" disabled>2023 Q3 (JUL / AUG / SEP)</option>
						<option value="2023-Q2" disabled>2023 Q2 (APR / MAY / JUN)</option>
						<option value="2023-Q1" disabled>2023 Q1 (JAN / FEB / MAR)</option>
					</optgroup>
					<optgroup label="2022">
						<option value="2022-Q4" disabled>2022 Q4 (OCT / NOV / DEC)</option>
						<option value="2022-Q3" disabled>2022 Q3 (JUL / AUG / SEP)</option>
						<option value="2022-Q2" disabled>2022 Q2 (APR / MAY / JUN)</option>
						<option value="2022-Q1" disabled>2022 Q1 (JAN / FEB / MAR)</option>
					</optgroup>
					<optgroup label="2021">
						<option value="2021-Q4" disabled>2021 Q4 (OCT / NOV / DEC)</option>
						<option value="2021-Q3" disabled>2021 Q3 (JUL / AUG / SEP)</option>
						<option value="2021-Q2" disabled>2021 Q2 (APR / MAY / JUN)</option>
						<option value="2021-Q1" disabled>2021 Q1 (JAN / FEB / MAR)</option>
					</optgroup>
				</select>
				<reports>
				</reports>
			</section>
		</main>
		<footer></footer>
	</body>
	<script>
		buildFooter(1);
		const reportData = [
			{id: "2025-Q1", caption: "2025 Q1 Finances",
			income: [
				["Patreon","$246.54"],
				["Bandcamp","$9.40"]],
			expenses: [
				["community infrastructure","-$28.92"],
				["admin services","-$59.25"],
				["creative tools and assets, software","-$59.09"],
				["labor: Brandt Hughes","-$108.68","*"]],
			total: "$0"},
			{id: "2024-Q4", caption: "2024 Q4 Finances",
			income: [
				["Patreon","$248.99"],
				["Bandcamp","$25.06"]],
			expenses: [
				["community infrastructure","-$28.92"],
				["admin services","-$23.37"],
				["creative tools and assets, software","-$76.75"],
				["Tenere video supplies","-$9.73"],
				["website","-$216.67"],
				["labor: Brandt Hughes","-$0","*"]],
			total: "-$81.39"},
			{id: "2024-Q3", caption: "2024 Q3 Finances",
			income: [
				["Patreon","$236.99"]],
			expenses: [
				["community infrastructure","-$28.92"],
				["admin services","-$26.89"],
				["creative tools and assets, software","-$169.47"],
				["equipment","-$37.86"],
				["labor: Brandt Hughes","-$0","*"]],
			total: "-$26.15"},
			{id: "2024-Q2", caption: "2024 Q2 Finances",
			income: [
				["Patreon","$262.89"],
				["Bandcamp","$15.71"]],
			expenses: [
				["community infrastructure","-$28.67"],
				["admin services","-$23.15"],
				["creative tools and assets, software","-$164.89"],
				["labor: Brandt Hughes","-$61.89","*"]],
			total: "$0"}
		];
		let insufficient = false;

		function generateReport() {
			insufficient = false;
			let id = document.getElementById("report-id").value;
			let indx = reportData
				.map(function (element) {return element.id;})
				.indexOf(id);
			const container = document.getElementsByTagName("reports")[0];
			if (container.children.length > 0) {
				container.removeChild(container.firstElementChild)
			}

			let report = document.createElement("report");
			let table = document.createElement("table");
			let caption = document.createElement("caption");
				caption.innerHTML = reportData[indx].caption;

			table.append(caption);
			table.append(createTableHeaders());
			table.append(createTableBody(indx));
			table.append(createTableFoot(reportData[indx].total));

			report.append(table);
			if (insufficient == true) { report.append(createSub()) }
			container.append(report);
		}
		function createTableHeaders() {
			let output = document.createElement("thead");
			let tr = document.createElement("tr");
			let th1 = document.createElement("th");
				th1.innerHTML = "Category";
			let th2 = document.createElement("th");
				th2.innerHTML = "Value";
			tr.append(th1, th2);
			output.append(tr);

			return output;
		}
		function createTableBody(indx) {
			let output = document.createElement("tbody");
			if (reportData[indx].income) {
				createTableSection(output, indx, "income")
			}
			if (reportData[indx].expenses) {
				createTableSection(output, indx, "expenses")
			}

			return output;
		}
		function createTableSection(output, indx, type) {
			let trCat = document.createElement("tr");
			let tdCat = document.createElement("td");
				tdCat.setAttribute("colspan",2);
				tdCat.innerHTML = "<strong>" + type + "</strong>";
			trCat.append(tdCat);
			output.append(trCat);

			reportData[indx][type].forEach((e, indx) => {
				let tr = document.createElement("tr");
				let td1 = document.createElement("td");
					td1.innerHTML = e[0];
				let td2 = document.createElement("td");
					td2.innerHTML = e[1];
				if (e[2]) {
					td2.innerHTML = e[1] + e[2];
					insufficient = true;
				}
				tr.append(td1, td2);
				output.append(tr);
			});
		}
		function createTableFoot(total) {
			let output = document.createElement("tfoot");
			let trSpacer = document.createElement("tr");
			let tdSpacer = document.createElement("td");
				tdSpacer.setAttribute("colspan",2);
			trSpacer.append(tdSpacer);
			let trTotal = document.createElement("tr");
			let tdTotal1 = document.createElement("td");
				tdTotal1.innerHTML = "TOTAL";
			let tdTotal2 = document.createElement("td");
				tdTotal2.innerHTML = total;
			trTotal.append(tdTotal1, tdTotal2);
			output.append(trSpacer, trTotal);

			return output;
		}
		function createSub() {
			let output = document.createElement("sub");
				output.innerHTML = "*insufficient yield to pay full amount";

			return output;
		}
	</script>
</html>
<!DOCTYPE html>
<html lang="en">
	<head>
		<meta charset="utf-8">
		<meta name="viewport" content="width=device-width, initial-scale=1">
		<link rel="preconnect" href="https://fonts.googleapis.com">
		<link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
		<link href="https://fonts.googleapis.com/css2?family=Roboto+Condensed:ital,wght@0,100..900;1,100..900&family=Roboto+Mono:ital,wght@0,100..700;1,100..700&family=Roboto:ital,wght@0,100..900;1,100..900&family=Rubik:ital,wght@0,300..900;1,300..900&display=swap" rel="stylesheet">
		<link rel="stylesheet" href="/styles/main.css">
		<link rel="stylesheet" href="/styles/home.css">
	</head>

<!-- HTML -->
	<body class="rubik-400">
		<nav class="nav-desktop">
			<ul>
				<li><span>/ home</span></li>
				<li><a href="/videos.html">/ videos</a></li>
				<li><a href="/music.html">/ music</a></li>
				<li><a href="/about.html">/ about</a></li>
			</ul>
		</nav>

		<div class="content-column">
			<nav class="nav-mobile">
				<span>/ home</span>
				<span><a href="/videos.html">/ videos</a></span>
				<span><a href="/music.html">/ music</a></span>
				<span><a href="/about.html">/ about</a></span>
			</nav>
		</div> <!-- content column -->
		<main>
			<!-- header and video embed -->
			<h1 style="margin-top: .5em;">Emergent Beacon</h1>
			<section>
				<aside class="extrude roboto-mono-400">
					Directly support the show by <a href="http://patreon.com/emergentbeacon" class="support-link"><strong>pledging to Patreon!</strong></a>
				</aside>
				<iframe class="yt-player extrude" id="video-embed" width="800" height="400" src="https://www.youtube.com/embed/mFMGs9e5PLY" title="YouTube video player for featured video" frameborder="0" allow="accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture; web-share" referrerpolicy="strict-origin-when-cross-origin" allowfullscreen></iframe>
				<playlist class="extrude">
					<playlist-buttons>
						<button id="btn" onclick="randomVideo()">random video</button>
						<a id="btn-vid" href="/videos/trailer.html"><button>this video's page</button></a>
						<a href="/videos.html"><button>all videos</button></a>
					</playlist-buttons>

					<playlist-items>
						<ul>
							<li onclick="playlist('CE3D-tLVTQk')">
								<a>
									<strong>The Myth of the Loneliest Tree on Earth</strong>
									<time datetime="PT26M">26 min</time>
								</a>
							</li>
							<li onclick="playlist('WaM9Gc3y2xo')">
								<a>
									<strong>I Built a Device to See The Sun</strong>
									<time datetime="PT59M">59 min</time>
								</a>
							</li>
							<li onclick="playlist('LNuR-0LHnss')">
								<a>
									<strong>Why Am I Staring at the Sun?</strong>
									<time datetime="PT48M">48 min</time>
								</a>
							</li>
							<li onclick="playlist('mFMGs9e5PLY')" class="selected">
								<a>
									<strong>channel trailer: The World Remembers</strong>
									<time datetime="PT3M">3 min</time>
								</a>
							</li>
							<li onclick="playlist('WD1g4poEjDE')">
								<a>
									<strong>The Mystery of Sedna's Orbit</strong>
									<time datetime="PT6M">6 min</time>
								</a>
							</li>
						</ul>
					</playlist-items>
				</playlist-buttons>
			</section>
		</main>

		<footer>
			<p>
				<a href="/home.html">home</a><a href="/videos.html">videos</a><a href="/music.html">music</a><a href="/about.html">about</a><br>
				<a href="/finance.html">financial reports</a><a href="/media.html">media kit</a>
			</p>
			<image src="/assets/eb-logo.svg"></image>
			<socials>
				<div class="tooltip"><a href="https://youtube.com/emergentbeacon"><image src="/assets/social/social--yt.svg"></a><span class="tooltip-text">youtube</span></div>
				<div class="tooltip"><a href="https://patreon.com/emergentbeacon"><image src="/assets/social/social--patreon.svg"></a><span class="tooltip-text">patreon</span></div>
				<div class="tooltip"><a href="https://discord.emergentbeacon.com/"><image src="/assets/social/social--discord.svg"></a><span class="tooltip-text">discord</span></div>
				<div class="tooltip"><a href="https://bsky.app/profile/brandthughes.bsky.social"><image src="/assets/social/social--bsky.svg"></a><span class="tooltip-text">bluesky</span></div>
				<div class="tooltip"><a href="https://youtube.com/@BrandtHughes"><image src="/assets/social/social--yt2.svg"></a><span class="tooltip-text">youtube 2</span></div>
			</socials>
		</footer>
	</body>

<!-- SCRIPTS -->
	<script>
		var i = 3;
		const frame = document.getElementById("video-embed");
		const list = [
			{id: "CE3D-tLVTQk", page: "/videos/tenere.html"},
			{id: "WaM9Gc3y2xo", page: "/videos/sun-spotter.html"},
			{id: "LNuR-0LHnss", page: "/videos/sungazer.html"},
			{id: "mFMGs9e5PLY", page: "/videos/trailer.html"},
			{id: "WD1g4poEjDE", page: "/videos/sedna.html"},
			{id: "FH5RN9KE5D0", page: "/videos/the-search.html"},
			{id: "9czNEtiD-jo", page: "/videos/art.html"},
			{id: "Vfmfdb_dEek", page: "/videos/no-frames-no-boundaries.html"},
			{id: "_4b2nVOHjdE", page: "/videos/critical-curves.html"},
			{id: "yCHYmlwjUcI", page: "/videos/einstein-cross.html"}
		];
		const btnPage = document.getElementById("btn-vid");
		var shown = [0,1,2,4,5,6,7,8,9];

		function randomVideo() {
			if (i < 5) {document.querySelector(`playlist-items li:nth-child(${i + 1})`).classList.remove("selected")};
			if (shown.length == 0) {
				shown = [0,1,2,3,4,5,6,7,8,9];
			}
			let indx = Math.floor(Math.random() * (shown.length - 1));
			i = shown[indx];
			shown.splice(indx, 1);
			frame.src = "https://www.youtube.com/embed/" + list[i].id;
			btnPage.setAttribute("href", list[i].page);

			if (i < 5) {
				document.querySelector(`playlist-items li:nth-child(${i + 1})`).classList.add("selected");
			}
		}
		function playlist(id) {
			if (i < 5) {document.querySelector(`playlist-items li:nth-child(${i + 1})`).classList.remove("selected")};
			frame.src = "https://www.youtube.com/embed/" + id;
			let indx = list
				.map(function (element) {return element.id;})
				.indexOf(id);
			let url = list[indx].page;
			btnPage.setAttribute("href", url)
			i = indx;

			document.querySelector(`playlist-items li:nth-child(${indx + 1})`).classList.add("selected");
		}
	</script>
</html>
<!DOCTYPE html>
<html lang="en">
	<head>
		<meta charset="utf-8">
		<meta name="viewport" content="width=device-width, initial-scale=1">
		<link rel="preconnect" href="https://fonts.googleapis.com">
		<link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
		<link href="https://fonts.googleapis.com/css2?family=Roboto+Condensed:ital,wght@0,100..900;1,100..900&family=Roboto+Mono:ital,wght@0,100..700;1,100..700&family=Roboto:ital,wght@0,100..900;1,100..900&family=Rubik:ital,wght@0,300..900;1,300..900&display=swap" rel="stylesheet">
		<link rel="stylesheet" href="./styles/main.css">
		<link rel="stylesheet" href="./styles/home.css">
		<script type="text/javascript" src="./scripts/templates.js"></script>
		<script type="text/javascript" src="./styles/color-palettes.js" defer></script>

		<title>Emergent Beacon</title>
		<link rel="icon" type="image/x-icon" href="/assets/eb-logo.svg">
	</head>

	<body class="rubik-400">
		<nav class="nav-desktop">
			<ul>
				<li><span>/ home</span></li>
				<li><a href="./videos.html">/ videos</a></li>
				<li><a href="./music.html">/ music</a></li>
				<li><a href="./about.html">/ about</a></li>
			</ul>
		</nav>

		<main>
			<header class="content-column">
				<nav class="nav-mobile">
					<span>/ home</span>
					<span><a href="./videos.html">/ videos</a></span>
					<span><a href="./music.html">/ music</a></span>
					<span><a href="./about.html">/ about</a></span>
				</nav>

				<button id="theme">
					<svg id="theme1" xmlns="http://www.w3.org/2000/svg" viewBox="0 -960 960 960"><path d="M380-880q83 0 156 31.5T663-763q54 54 85.5 127T780-480q0 83-31.5 156T663-197q-54 54-127 85.5T380-80q-53 0-103.5-13.5T180-134q93-54 146.5-146T380-480q0-108-53.5-200T180-826q46-27 96.5-40.5T380-880Z"/></svg>
					<svg id="theme2" xmlns="http://www.w3.org/2000/svg" viewBox="0 -960 960 960"><path d="M480-280q-83 0-141.5-58.5T280-480q0-83 58.5-141.5T480-680q83 0 141.5 58.5T680-480q0 83-58.5 141.5T480-280ZM200-440H40v-80h160v80Zm720 0H760v-80h160v80ZM440-760v-160h80v160h-80Zm0 720v-160h80v160h-80ZM256-650l-101-97 57-59 96 100-52 56Zm492 496-97-101 53-55 101 97-57 59Zm-98-550 97-101 59 57-100 96-56-52ZM154-212l101-97 55 53-97 101-59-57Z"/></svg>
					<svg id="theme3" xmlns="http://www.w3.org/2000/svg" viewBox="0 -960 960 960"><path d="M480-80q-83 0-156-31.5T197-197q-54-54-85.5-127T80-480q0-83 31.5-156T197-763q54-54 127-85.5T480-880q83 0 156 31.5T763-763q54 54 85.5 127T880-480q0 83-31.5 156T763-197q-54 54-127 85.5T480-80Zm40-83q119-15 199.5-104.5T800-480q0-123-80.5-212.5T520-797v634Z"/></svg>
				</button>
			</header>

			<h1>Emergent Beacon</h1>
			<section>
				<aside class="extrude roboto-mono-400">
					Directly support the show by <a href="http://patreon.com/emergentbeacon" class="support-link"><strong>pledging to Patreon!</strong></a>
				</aside>
				<iframe class="yt-player extrude" id="video-embed" width="800" height="400" src="https://www.youtube.com/embed/mFMGs9e5PLY" title="YouTube video player for featured video" frameborder="0" allow="accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture; web-share" referrerpolicy="strict-origin-when-cross-origin" allowfullscreen></iframe>
				<playlist class="extrude">
					<playlist-buttons>
						<button id="btn" type="button" onclick="randomize()">random video</button>
						<button id="btn-details" type="button" onclick="document.location='./videos/trailer.html'">this video's page</button>
						<button id="btn-music" type="button" onclick="document.location='./videos/trailer.html'">this video's music</button>
						<button onclick="document.location='./videos.html'">all videos</button type="button">
					</playlist-buttons>

					<playlist-items>
						<ul>
							<li>
								<button onclick="updateDetails(0)">
									<strong>The Myth of the Loneliest Tree on Earth</strong>
									<time datetime="PT26M">26 min</time>
								</button>
							</li>
							<li>
								<button onclick="updateDetails(1)">
									<strong>I Built a Device to See The Sun</strong>
									<time datetime="PT59M">59 min</time>
								</button>
							</li>
							<li>
								<button onclick="updateDetails(2)">
									<strong>Why Am I Staring at the Sun?</strong>
									<time datetime="PT48M">48 min</time>
								</button>
							</li>
							<li class="selected">
								<button onclick="updateDetails(3)">
									<strong>channel trailer: The World Remembers</strong>
									<time datetime="PT3M">3 min</time>
								</button>
							</li>
							<li>
								<button onclick="updateDetails(4)">
									<strong>The Mystery of Sedna's Orbit</strong>
									<time datetime="PT6M">6 min</time>
								</button>
							</li>
						</ul>
					</playlist-items>
				</playlist-buttons>
			</section>
		</main>
		<footer></footer>
	</body>

<!-- SCRIPTS -->
	<script>
		buildFooter(1);
		const list = [
			{id: "CE3D-tLVTQk", page: "./videos/tenere.html", music: "./music/dunefall.html"},
			{id: "WaM9Gc3y2xo", page: "./videos/sun-spotter.html", music: "./music/sun-spotter.html"},
			{id: "LNuR-0LHnss", page: "./videos/sungazer.html", music: "./music/sungazer.html"},
			{id: "mFMGs9e5PLY", page: "./videos/trailer.html", music: "./music/the-world-remembers.html"},
			{id: "WD1g4poEjDE", page: "./videos/sedna.html", music: "./music/sedna.html"},
			{id: "FH5RN9KE5D0", page: "./videos/the-search.html", music: "./music/the-search.html"},
			{id: "9czNEtiD-jo", page: "./videos/art.html", music: "./music/art.html"},
			{id: "Vfmfdb_dEek", page: "./videos/no-frames-no-boundaries.html", music: "./music/art.html"},
			{id: "_4b2nVOHjdE", page: "./videos/critical-curves.html", music: "./music/critical-curves.html"},
			{id: "yCHYmlwjUcI", page: "./videos/einstein-cross.html", music: "./music/cosmic-mirage.html"}
		];
		const vidEmbed = document.getElementById("video-embed");
		const btnPage = document.getElementById("btn-details");
		const btnMusic = document.getElementById("btn-music");
		let randomRemaining = [0,1,2,4,5,6,7,8,9];
		let select = 3;

		function randomize() {
			if (randomRemaining.length == 0) { randomRemaining = [0,1,2,3,4,5,6,7,8,9] }
			let rndmIndx = Math.floor(Math.random() * (randomRemaining.length - 1));
			updateDetails(randomRemaining[rndmIndx]);
			randomRemaining.splice(rndmIndx, 1);
		}
		function updateDetails(indx) {
			playlist(indx);
			videoEmbed(list[indx].id);
			soloPageButton(list[indx].page);
			soloMusicButton(list[indx].music);
		}
		function playlist(id) {
			if (select < 5) { console.log("select is < 5: " + select); document.querySelector(`playlist-items li:nth-child(${select + 1})`).classList.remove("selected") }
			if (id < 5) { console.log("id is > 5"); document.querySelector(`playlist-items li:nth-child(${id + 1})`).classList.add("selected") }
			select = id;
		}
		function videoEmbed(id) {
			vidEmbed.src = "https://www.youtube.com/embed/" + id;
		}
		function soloPageButton(id) {
			btnPage.setAttribute("onclick", `document.location='${id}'`)
		}
		function soloMusicButton(id) {
			btnMusic.setAttribute("onclick",`document.location='${id}'`)
		}
	</script>
</html>